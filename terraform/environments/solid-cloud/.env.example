# Terraform Environment Variables Template
# Copy this file to .env and fill in your actual values
# Then source it before running terraform: source .env

# CloudStack API Credentials (CRITICAL)
# Get these from CloudStack Console > API Keys
export TF_VAR_cloudstack_api_url="https://dku.kloud.zone/client/api"
export TF_VAR_cloudstack_api_key="YOUR_API_KEY_HERE"
export TF_VAR_cloudstack_secret_key="YOUR_SECRET_KEY_HERE"

# Infrastructure Configuration
export TF_VAR_template="Ubuntu_24.04"
export TF_VAR_ssh_keypair="titanium-key"
export TF_VAR_network_offering="DefaultIsolatedNetworkOfferingWithSourceNatService"

# Database Configuration (CRITICAL)
# Use a strong password with at least 16 characters
export TF_VAR_postgres_password="YOUR_STRONG_PASSWORD_HERE"

# Application Secrets (CRITICAL)
# Generate these using: openssl rand -base64 32
export TF_VAR_jwt_secret_key="YOUR_JWT_SECRET_HERE"
export TF_VAR_internal_api_secret="YOUR_API_SECRET_HERE"
export TF_VAR_redis_password="YOUR_REDIS_PASSWORD_HERE"

# Worker Configuration
export TF_VAR_worker_count=2

# Firewall Configuration (SECURITY)
# SSH (Port 22): Restrict to your VPN or Bastion Host IP
# Example: export TF_VAR_allowed_ssh_cidrs='["203.0.113.0/24","198.51.100.50/32"]'
export TF_VAR_allowed_ssh_cidrs='["0.0.0.0/0"]'  # WARNING: Change this!

# Kubernetes API (Port 6443): Restrict to admin workstations and CI/CD IPs
# Example: export TF_VAR_allowed_k8s_cidrs='["203.0.113.0/24","198.51.100.0/28"]'
export TF_VAR_allowed_k8s_cidrs='["0.0.0.0/0"]'  # WARNING: Change this!

# HTTP (Port 80): Can remain open for public services, or restrict to CDN/Proxy IPs
export TF_VAR_allowed_http_cidrs='["0.0.0.0/0"]'
